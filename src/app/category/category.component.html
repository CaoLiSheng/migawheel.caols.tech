<menu [show]="showMenu"></menu>

<section class="body-sec">
    <div class="body-wrapper">
        <div class="body" #body>
            <div class="category-header">
                <h1>{{categoryName}}</h1>
                <hr>
                <div class="like box">
                    <i></i>
                    <span>{{categoryLikeCount}}</span>
                </div>
                <br>
                <br>
                <p class="create-time" data-rel="创建时间: ">{{categoryCreateTime}}</p>
                <p class="update-time" data-rel="最后更新时间: ">{{categoryUpdateTime}}</p>
                <br>
                <hr>
            </div>
            <br>
            <br>

            <div class="category-content">
                <content [innerHTML]="categoryContent" [scriptSrc]="categoryScriptSrc" (onload)="categoryOnload()"></content>
            </div>

            <br>
            <br>
            <hr *ngIf="imageList.length + noneImageList.length > 0">
            <br *ngIf="imageList.length > 0">
            <pager *ngIf="imageList.length > 0"
                   [totalCount]="list1PagerTotalCount"
                   [pageSize]="list1PagerPageSize"
                   [currentPage]="list1PagerCurrentPage"
                   (change)="list1PagerInfoChange($event)"></pager>

            <div class="category-list1">
                <ul>
                    <li *ngFor="let imageListItem of imageList"
                        [style.background-size]="imageListItemBackgroundSize"
                        [style.background-image]="imageListItem.imageSrc"
                        (click)="postOpener.postOpen(imageListItem.title)">
                        <p>{{imageListItem.title}}</p>
                    </li>
                </ul>
            </div>

            <pager *ngIf="imageList.length > 0"
                   [totalCount]="list1PagerTotalCount"
                   [pageSize]="list1PagerPageSize"
                   [currentPage]="list1PagerCurrentPage"
                   (change)="list1PagerInfoChange($event)"></pager>
            <br *ngIf="imageList.length > 0">
            <hr *ngIf="imageList.length + noneImageList.length > 1">
            <br *ngIf="noneImageList.length > 0">
            <pager *ngIf="noneImageList.length > 0"
                   [totalCount]="list2PagerTotalCount"
                   [pageSize]="list2PagerPageSize"
                   [currentPage]="list2PagerCurrentPage"
                   (change)="list2PagerInfoChange($event)"></pager>

            <div class="category-list2">
                <ul>
                    <li *ngFor="let noneImageListItem of noneImageList" (click)="noneImageListItemClicked(noneImageListItem.title)">
                        <h1>{{noneImageListItem.title}}</h1>
                        <p>{{noneImageListItem.brief}}</p>
                    </li>
                </ul>
            </div>

            <pager *ngIf="noneImageList.length > 0"
                   [totalCount]="list2PagerTotalCount"
                   [pageSize]="list2PagerPageSize"
                   [currentPage]="list2PagerCurrentPage"
                   (change)="list2PagerInfoChange($event)"></pager>
            <br *ngIf="noneImageList.length > 0">

            <div class="category-footer">
                <hr>
                <div class="like box">
                    <i></i>
                    <span>{{categoryLikeCount}}</span>
                </div>
                <br>
                <br>
                <p class="top5" data-rel="TOP 5:"></p>
                <ol>
                    <li *ngFor="let top of top5" (click)="postOpener.postOpen(top)">{{top}}</li>
                </ol>
                <br>
            </div>
        </div>
        <div class="footer" [class.fixed]="footerFixed">
            人在劳作，天在看！@2017
        </div>
    </div>
</section>
